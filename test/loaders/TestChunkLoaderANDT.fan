
// FIXME
class TestChunkLoaderANDT : Test {
	
	Int[] fmp05 := Int[
		0x41, 0x4E, 0x44, 0x54, 0x00, 0x00, 0x00, 0x48,
		0x00, 0x02, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00,
		0x00, 0x02, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00,
		0x20, 0x02, 0x00, 0x00, 0x40, 0x02, 0x00, 0x00,
		0x20, 0x02, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00,
		0x00, 0x02, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00,
		0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x01, 0x03, 0x03, 0x00, 0xBC, 0xFF, 0xFF, 0xFF,
		0xBC, 0xFF, 0xFF, 0xFF, 0xE0, 0xFF, 0xFF, 0xFF
	]


	Int[] fmp10 := Int[
		0x41, 0x4E, 0x44, 0x54, 0x00, 0x00, 0x00, 0x48,
		0x10, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00,
		0x10, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00,
		0x11, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00,
		0x11, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00,
		0x10, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00,
		0xFF, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00,
		0x12, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00,
		0x01, 0x03, 0x03, 0x00, 0x01, 0x00, 0x00, 0x00,
		0x01, 0x00, 0x00, 0x00, 0x0A, 0x00, 0x00, 0x00
	]



//	Void testLoadChunkWorksWithValid05Data() {
//		buf := Buf()
//		fmp05.each |byte| {   
//			buf.write(byte)
//		}
//		buf.flip
//
//		chunkLoader := MapLoader().createChunkLoader(buf.in, Endian.little)
//		map := MappyMap()
//		map.mapHeader.mapVersion = Version([0, 5])
//		map.mapHeader.blockSize = 32
//		map.mapHeader.mapType = MapType.FMP05
//		map.mapHeader.endian = Endian.little
//		chunkLoader.loadChunk(map)
//	}



//	Void testLoadChunkWorksWithValid10Data() {
//
//		// stupid java implicit primitive conversion...
//		byte[] byte10 = new byte[fmp10.length];
//		for (int i = 0; i < byte10.length; i++)
//			byte10[i] = (byte) fmp10[i];
//
//		InputStream 	inputStream = new ByteArrayInputStream(byte10);
//		ChunkLoaderANDT chunkLoader = (ChunkLoaderANDT) new MapLoader().createChunkLoader(inputStream);
//		Map map = new Map();
//		map.getMapHeader().setMapVersionMajor(1);
//		map.getMapHeader().setMapVersionMinor(0);
//		map.getMapHeader().setBlockSize(32);
//		map.getMapHeader().setMapType(2);
//		chunkLoader.setLSB(true);
//		chunkLoader.loadChunk(map);
//	}
}
